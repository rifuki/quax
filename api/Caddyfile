# Caddy config â€” two deployment scenarios:
#
# SCENARIO A: Caddy via --profile caddy (in same Docker network as API)
#   reverse_proxy target: quax-api:8080  (service name on quax_net)
#
# SCENARIO B: Caddy on bare metal host
#   reverse_proxy target: localhost:8080
#
# SCENARIO C: External Caddy container (separate docker-compose)
#   Connect Caddy container to quax_net:
#     docker network connect quax_net <your-caddy-container>
#   reverse_proxy target: quax-api:8080

api.example.com {
    reverse_proxy quax-api:8080

    encode gzip zstd

    header {
        X-Content-Type-Options nosniff
        X-Frame-Options DENY
        -Server
    }
}
